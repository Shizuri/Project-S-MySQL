<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
<title>Main page</title>
<link href="./css/styles.css" rel="stylesheet" type="text/css"/>
</h:head>
<h:body>
<h1 class="title">Welcome #{loginController.name}</h1>

<h:form>
	<h:inputTextarea value="#{messagesController.message}" rows = "5" cols = "50"/><br/>
	<h:commandButton value="Post message" action="#{messagesController.readMessage}"/> 
</h:form>

<hr/>
<!-- 
printing messages here
<ul>
	<ui:repeat var="m" value="#{messagesController.messagesList}">
		<li><b>#{m.name}</b>@#{m.time}: #{m.message}</li>
	</ui:repeat>
</ul>
<hr/>
 -->
<ui:repeat var="m" value="#{messagesController.messagesList}">
	<fieldset>
		<legend><b>#{m.name}</b> #{m.time}</legend>
		#{m.message}
	</fieldset>
	<br/>
</ui:repeat>
<hr/>
<a href="index.jsf">Back to login page</a>
</h:body></html>